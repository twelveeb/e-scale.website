<!doctype html>
<html lang="pt-PT">
>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>E-Scale — Diagnóstico Gratuito</title>
  <link rel="icon" href="logobg.png" type="image/png">
  <meta name="description" content="Diagnóstico gratuito — E-Scale">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;800&display=swap" rel="stylesheet">
  <style>
    :root{
      --bg:#0b1220;--bg2:#061024;
      --accent1:#6ee7b7;--accent2:#22d3ee;
      --muted:#94a3b8;--text:#e6eef8;
      font-family:'Inter',system-ui,-apple-system,'Segoe UI',Roboto,'Helvetica Neue',Arial;
      color-scheme:dark;
    }
    *{box-sizing:border-box;margin:0;padding:0}
    body{
      background:linear-gradient(180deg,var(--bg2) 0%, var(--bg) 60%);
      color:var(--text);font-size:17px;opacity:0;transition:opacity .35s ease;
    }
    body.page-loaded{opacity:1}
    a{color:var(--accent1);text-decoration:none;transition:.25s}
    a:hover{filter:brightness(1.08)}
    .container{max-width:760px;margin:0 auto;padding:0 20px}

    /* Navbar */
    header{position:sticky;top:0;z-index:50}
    .navwrap{backdrop-filter:blur(14px);background:rgba(10,16,30,.55);border-bottom:1px solid rgba(255,255,255,.12);padding:10px 0}
    .nav{display:flex;align-items:center;justify-content:space-between;gap:12px}
    .brand{display:flex;align-items:center;gap:10px}
    .brand img{height:42px;width:42px;border-radius:10px;object-fit:contain}
    nav ul{display:flex;gap:14px;list-style:none}
    nav a{color:var(--text);padding:8px 12px;border-radius:10px}
    nav a:hover{background:rgba(255,255,255,.08);box-shadow:0 0 12px rgba(34,211,238,.35)}
    .hamb{display:none;background:none;border:0;color:#fff;font-size:26px;cursor:pointer}

    /* Form */
    main{padding:80px 0}
    h1{font-size:38px;font-weight:800;margin-bottom:10px}
    p.lede{color:var(--muted);margin-bottom:28px}
    form{background:rgba(255,255,255,.02);border:1px solid rgba(255,255,255,.06);border-radius:14px;padding:24px;box-shadow:0 6px 20px rgba(0,0,0,.4);position:relative;overflow:hidden}
    input,textarea,select{width:100%;padding:12px;border-radius:10px;border:1px solid rgba(255,255,255,.1);background:rgba(255,255,255,.05);color:var(--text);font:inherit}
    textarea{min-height:120px}
    input:focus,textarea:focus,select:focus{outline:none;border-color:var(--accent2);box-shadow:0 0 12px rgba(34,211,238,.3)}

    /* --- SELECT com estilo vidro translúcido E-Scale --- */
select {
  appearance: none;
  -webkit-appearance: none;
  -moz-appearance: none;
  background: rgba(255, 255, 255, 0.08);
  border: 1px solid rgba(110, 231, 183, 0.25);
  border-radius: 12px;
  color: var(--text);
  font: inherit;
  padding: 12px 44px 12px 14px;
  cursor: pointer;
  transition: all .25s ease;
  backdrop-filter: blur(8px);
  box-shadow: inset 0 0 10px rgba(255,255,255,0.05),
              0 0 12px rgba(34,211,238,0.08);
  background-image: url("data:image/svg+xml;utf8,<svg fill='%236ee7b7' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 20 20'><path d='M5.516 7.548l4.484 4.906 4.484-4.906z'/></svg>");
  background-repeat: no-repeat;
  background-position: right 14px center;
  background-size: 16px;
}

select:hover {
  border-color: rgba(34,211,238,0.5);
  box-shadow: inset 0 0 12px rgba(34,211,238,0.15),
              0 0 14px rgba(110,231,183,0.15);
}

select:focus {
  outline: none;
  border-color: var(--accent2);
  box-shadow: 0 0 18px rgba(34,211,238,0.25),
              inset 0 0 14px rgba(255,255,255,0.1);
  background: rgba(255,255,255,0.12);
}

/* Corrige o contraste das opções abertas */
select option {
  background-color: #0b1220;
  color: #e6eef8;
  padding: 10px;
  font-size: 16px;
  border: none;
}

    .step{opacity:0;visibility:hidden;position:absolute;top:0;left:0;width:100%;transition:opacity .4s ease}
    .step.active{opacity:1;visibility:visible;position:relative}
    .nav-buttons{display:flex;justify-content:space-between;gap:12px;margin-top:20px}
    .btn{padding:10px 14px;background:linear-gradient(90deg,var(--accent1),var(--accent2));color:#042022;border-radius:12px;font-weight:600;cursor:pointer;border:none;transition:.25s}
    .btn:hover{transform:translateY(-2px);box-shadow:0 0 18px rgba(34,211,238,.4)}
    .hidden{display:none}
    .success-box{text-align:center;padding:60px 20px}
    .success-box h2{color:var(--accent1);margin-bottom:12px}
    .success-box p{color:var(--muted);margin-bottom:22px}

    @media(max-width:880px){
      nav ul{display:none}.hamb{display:block}
    }
  </style>
</head>
<body>
  <header>
    <div class="navwrap">
      <div class="container nav">
        <a href="index.html" class="brand">
          <img src="logobg.png" alt="E-Scale">
          <div>
            <div style="font-weight:800">E-Scale</div>
            <div style="font-size:12px;color:var(--muted)">Escala a tua presença, aumenta o teu impacto</div>
          </div>
        </a>
        <nav>
          <ul>
            <li><a href="index.html">Início</a></li>
            <li><a href="servicos.html">Planos</a></li>
            <li><a href="contacto.html">Contacto</a></li>
          </ul>
        </nav>
      </div>
    </div>
  </header>

  <main class="container">
    <h1>Diagnóstico gratuito</h1>
    <p class="lede">Preenche este breve questionário — ajudamos-te a perceber como escalar o teu negócio online.</p>

    <form id="diagnosticoForm" action="https://formspree.io/f/mkgqejwr" method="POST" onsubmit="handleSubmit(event)">
      <!-- Etapa 1 -->
      <div class="step active">
        <input type="text" name="nome" placeholder="Nome" required>
        <input type="email" name="email" placeholder="Email" required>
        <input type="text" name="instagram" placeholder="@ da tua empresa no Instagram" required>
      </div>

      <!-- Etapa 2 -->
      <div class="step">
        <select name="objetivo" required>
          <option value="">Seleciona o teu objetivo principal</option>
          <option>Gerar mais vendas</option>
          <option>Aumentar visibilidade</option>
          <option>Lançar novo produto</option>
          <option>Outro</option>
        </select>
      </div>

      <!-- Etapa 3 -->
      <div class="step">
        <select name="situacao" required>
          <option value="">Seleciona a tua situação atual</option>
          <option>Não faço marketing digital</option>
          <option>Tenho redes mas sem estratégia</option>
          <option>Faço anúncios mas sem retorno</option>
          <option>Tenho equipa de marketing</option>
        </select>
      </div>

      <!-- Etapa 4 -->
      <div class="step">
        <select name="orcamento" required>
          <option value="">Seleciona o orçamento mensal</option>
          <option>Até 250€</option>
          <option>250€ - 500€</option>
          <option>500€ - 1000€</option>
          <option>+1000€</option>
        </select>
      </div>

      <!-- Etapa 5 -->
      <div class="step">
        <textarea name="mensagem" placeholder="Fala-nos um pouco sobre o teu negócio..." required></textarea>
      </div>

      <div class="nav-buttons">
        <button type="button" class="btn" id="prevBtn">Anterior</button>
        <button type="button" class="btn" id="nextBtn">Próximo</button>
      </div>
    </form>

    <div id="successBox" class="hidden success-box">
      <h2>✅ Diagnóstico enviado com sucesso!</h2>
      <p>Entraremos em contacto brevemente.</p>
      <a href="index.html" class="btn">Voltar à página inicial</a>
    </div>
  </main>

  <footer style="text-align:center;padding:24px 0;color:var(--muted)">
    © <span id="year"></span> E-Scale — Escala a tua presença, aumenta o teu impacto
  </footer>

  <script>
    document.getElementById('year').textContent = new Date().getFullYear();
    window.addEventListener('load',()=>document.body.classList.add('page-loaded'));

    const steps=document.querySelectorAll('.step');
    let current=0;
    const nextBtn=document.getElementById('nextBtn');
    const prevBtn=document.getElementById('prevBtn');

    function showStep(i){
      steps.forEach((s,idx)=>s.classList.toggle('active',idx===i));
      prevBtn.style.display=i===0?'none':'inline-block';
      nextBtn.textContent=i===steps.length-1?'Enviar':'Próximo';
    }
    showStep(current);

    nextBtn.addEventListener('click',()=>{
      if(current<steps.length-1){current++;showStep(current);}
      else document.getElementById('diagnosticoForm').requestSubmit();
    });
    prevBtn.addEventListener('click',()=>{if(current>0){current--;showStep(current);}});

    async function handleSubmit(e){
      e.preventDefault();
      const form=e.target;
      const data=new FormData(form);
      const r=await fetch(form.action,{method:'POST',body:data,headers:{'Accept':'application/json'}});
      if(r.ok){
        form.classList.add('hidden');
        document.getElementById('successBox').classList.remove('hidden');
      }else alert('Erro ao enviar. Tenta novamente.');
    }
  </script>
</body>
</html>
